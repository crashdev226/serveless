#!/usr/bin/env node

'use strict';

let argv          = require('minimist')(process.argv.slice(2)),
    ExamplePlugin = require('./plugins/example');

if (argv.debug) process.env.DEBUG = '*';

let SUtils = require('../lib/classes/Utils');
SUtils = new SUtils();

let S         = require('../lib/Serverless'),
  serverless  = new S({
    servicePath: SUtils.findServicePath(process.cwd()),
    interactive: typeof process.env.CI === 'undefined'
  });

const plugins = [ExamplePlugin];

serverless.addPlugins(plugins);
serverless.loadCommands();
serverless.runCommand(argv)

// serverless.init()
//   .then(function(){
//     serverless.runCommand(argv);
//   });