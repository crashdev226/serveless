#!/usr/bin/env node

'use strict';

let SUtils = require('../lib/utils/index');
let argv   = require('minimist')(process.argv.slice(2));

if (argv.debug) process.env.DEBUG = '*';

let S           = require('../lib/Serverless'),
    Project     = require('../lib/Project'),
    serverless  = new S({
        projectPath: SUtils.findProjectPath(process.cwd()),
        interactive: typeof process.env.CI === 'undefined'
    });

serverless.init()
    .then(function(){
        serverless.command(argv);
    });
